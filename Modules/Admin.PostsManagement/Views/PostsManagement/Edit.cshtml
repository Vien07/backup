@model Admin.PostsManagement.Controllers.PostsManagementController.EditModel
@using Admin.PostsManagement.Constants;

@using ComponentUILibrary.Models
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewData["PageTitle"] = Model.PageTitle.ModuleName;

}
@*@await Component.InvokeAsync(nameof(ComponentUILibrary.ViewComponents.PageTitleComponent), new { model = Model.PageTitle })*@
<style>
    .nav-link span{
        margin-left: 2px; 
    }
</style>
<section id="section_edit" class="section ">
    <div class="row" id="">
        <div class="col">
            <div class="card">
                @*
                    <div class="card-header">
                    </div>*@

                <div class="card-content p-lg-2 pr-2">
                    <form id="uploadForm" class="mt-2">

                        <ul class="nav nav-tabs alwaystop-header " id="myTab" role="tablist">
                            <li class="nav-item steam-admin-tab" role="presentation">
                                <a class="nav-link active" id="content-tab" data-bs-toggle="tab" href="#content" role="tab" aria-controls="content" aria-selected="true">
                                    <i class="fas fa-font"></i> <span>Nội dung</span>
</a>
                            </li>


                            <li class="nav-item steam-admin-tab" role="presentation">
                                <a class="nav-link" id="images-tab" data-bs-toggle="tab" href="#images" role="tab" aria-controls="images" aria-selected="false">
                                    <i class="fas fa-images"></i> <span>Hình ảnh</span>
                                </a>
                            </li>
                            <li class="nav-item steam-admin-tab" role="presentation">
                                <a class="nav-link" id="category-tab" data-bs-toggle="tab" href="#category" role="tab" aria-controls="category" aria-selected="false">
                                    <i class="fas fa-list"></i> <span>Danh mục</span>
</a>
                            </li>
                            <li class="nav-item steam-admin-tab" role="presentation">
                                <a class="nav-link" id="seoSetting-tab" data-bs-toggle="tab" href="#seoSetting" role="tab" aria-controls="seoSetting" aria-selected="false">
                                    <i class="fab fa-searchengin"></i> <span>SEO</span>
</a>
                            </li>

                            <li style="" class="nav_list_button">

                                <div class="">

                                    <button data-bs-toggle="modal" data-bs-target="#pickLanguageModal" type="button" id="btnNewLang" onclick="" class="btn btn-info"><i class="bx bx-globe"></i></button>

                                    <div class="form-check form-switch " style="float: left; margin-top:7px">

                                        <input @(Model.Detail.Enabled == true ? "checked" : "") onclick="" class="cursor-pointer form-check-input" name="CheckBox" type="checkbox" id="CheckBox">

                                    </div>
                                    <button type="button" id="btnSave" onclick="_action.Save('uploadForm',@Model.Detail.Pid)" class="btn btn-primary">Lưu</button>
                                    <a type="button" href="@Url.Content(PostsManagementConstants.Route.PageIndex+"/"+Model.Group)" class="btn btn-danger">X</a>

                                </div>
                                <div id="nav_list_button_plugin" class="nav_list_button_plugin">


                                </div>

                            </li>


                        </ul>
                        <div class="tab-content" id="myTabContent">

                            <div class="tab-pane fade active show" id="content" role="tabpanel" aria-labelledby="content-tab">
                                <input id="Group" name="Group" value="@Model.Group" hidden />
                                @{string GroupView = ""; }
                                @if (Model.Group == "Post")
                                {
                                    GroupView = PostsManagementConstants.StaticPath.PartialView.Edit_TabContent;
                                }
                                else if (Model.Group == "Policy")
                                {
                                    GroupView = PostsManagementConstants.StaticPath.PartialView.Edit_TabContent_Policy;

                                }
                                @Html.Partial(GroupView, Model);

                            </div>
                            <div class="tab-pane fade" id="images" role="tabpanel" aria-labelledby="images-tab">
                                @Html.Partial(PostsManagementConstants.StaticPath.PartialView.Edit_TabImages, Model)

                            </div>
                            <div class="tab-pane fade " id="category" role="tabpanel" aria-labelledby="category-tab">
                                @Html.Partial(PostsManagementConstants.StaticPath.PartialView.Edit_TabCategory, Model)

                            </div>
                            <div class="tab-pane fade" id="seoSetting" role="tabpanel" aria-labelledby="seoSetting-tab">
                                @Html.Partial(PostsManagementConstants.StaticPath.PartialView.Edit_TabSEO, Model)

                            </div>




                        </div>
                    </form>
                    <div class="modal-footer">
                        @*<a type="button" href="@PostsManagementConstants.Config.Route.PageIndex" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</a>
                            <button type="button" id="btnSaveForm" onclick="_action.Save('uploadForm')" class="btn btn-primary">Lưu</button>*@
                    </div>
                </div>
            </div>
        </div>

    </div>

    @Html.AntiForgeryToken()
    .
</section>
@Html.Partial(PostsManagementConstants.StaticPath.PartialView.Edit_ModalPickLanguage)

@section Scripts{
    <script asp-append-version="true" src="@Url.Content(PostsManagementConstants.ModuleInfo.PathCommand)/PostsManagement/edit.js"></script>

    <script>
        const ModelView = {
            RouteIndex: "@PostsManagementConstants.Route.PageIndex",
            RouteEdit: "@PostsManagementConstants.Route.PageEdit",
            DivSection: "section_edit",
            DivModalDataID: "divModalInfo",
            ModalDataID: "ModelData",
            DivModalConfigID: "divModalConfig",
            ModalConfigID: "ModelConfig",
            FromUploadID: "uploadForm",
            NavPagingID: "navigation_paging",
            FileUploadID: "Images"
        }
        let _action = new AdminPostsManagement_Edit(ModelView);
        _action.CheckFunction();
        //var dragger
        function OpenSettingModal() {
            $("#myModal2").modal("show")
        }
        function CloseSettingModal() {
            $("#myModal2").modal("hide")
        }
        function ChangeFilter() {
            $("#sort-amount").html('<i  class="fas fa-sort-amount-down-alt"></i>')

        }
        var PlugSEOSave= () => {

        }
        $(function () {


            //var cars = $('#cars').filterMultiSelect();

            //InitDragDropTable()
        });
        function CloseConfigModel() {
            $("#template-customizer").removeClass("template-customizer-open")

        }
        function OpenConfigModel() {
            $("#template-customizer").addClass("template-customizer-open")

        }
    </script>
}